<div class="login-container">
  <!-- Video Background -->
  <video class="video-background" autoplay loop muted playsinline>
    <source src="/assets/images/loginBg.mp4" type="video/mp4">
    Your browser does not support the video tag.
  </video>

  <!-- Full Screen Indian Map Background -->
  <div class="map-background">
    <!-- Animated particles -->
    <div class="particles">
      <div class="particle" *ngFor="let i of particles"></div>
    </div>

    <!-- Background gradient overlay -->
    <div class="background-overlay"></div>
  </div>

  <!-- Login Overlay on Right Side -->
  <div class="login-overlay">
    <div class="login-card">
      <div class="login-header">
        <div class="logo-container">
          <img src="/assets/images/NewGlobe.png" alt="ProjectGeo Logo" class="logo-icon" />
        </div>
        <h2 class="orbitron-font">Project Geo</h2>
        <p>Sign in to get access</p>
      </div>

      <form (ngSubmit)="onLogin()" #loginForm="ngForm" class="login-form">
        <div class="form-group">
          <label for="email">
            <i class="fa-solid fa-envelope"></i>
            Email Address
          </label>
          <input
            type="email"
            id="email"
            name="email"
            [(ngModel)]="email"
            #emailInput="ngModel"
            required
            email
            class="form-control"
            placeholder="Enter your email"
            [class.is-invalid]="emailInput.invalid && emailInput.touched"
          />
          <div class="invalid-feedback" *ngIf="emailInput.invalid && emailInput.touched">
            <span *ngIf="emailInput.errors?.['required']">Email is required</span>
            <span *ngIf="emailInput.errors?.['email']">Please enter a valid email</span>
          </div>
        </div>

        <div class="form-group">
          <label for="password">
            <i class="fa-solid fa-key"></i>
            Password
          </label>
          <input
            type="password"
            id="password"
            name="password"
            [(ngModel)]="password"
            #passwordInput="ngModel"
            required
            class="form-control"
            placeholder="Enter your password"
            [class.is-invalid]="passwordInput.invalid && passwordInput.touched"
          />
          <div class="invalid-feedback" *ngIf="passwordInput.invalid && passwordInput.touched">
            Password is required
          </div>
        </div>

        <div class="form-group error-message" *ngIf="errorMessage">
          <span class="error-icon">âš </span>
          {{ errorMessage }}
        </div>

        <button
          type="submit"
          class="btn-login"
          [disabled]="loginForm.invalid || isLoading"
        >
          <span class="btn-content">
            <span *ngIf="!isLoading">Sign In</span>
            <span *ngIf="isLoading" class="loading-spinner"></span>
            <span *ngIf="isLoading">Signing in...</span>
          </span>
        </button>
      </form>
    </div>
  </div>
</div>
